{% extends 'base.html.twig' %}

{% block title %}Product{% endblock %}

{% block body %}
    <header>
        <img class="img-fluid" src="{{ asset('assets/main/images/header-image.jpg') }}" width="2000" alt="1">
    </header>

    <div>
        {# Navigation bar HERE #}
        {% include 'navbar.html.twig' %}

        <div id="product-images">
            {# Product code #}
            <br><br>
            <p id="product-code">#{{ product.code }}</p>
            {# Name #}
            <br>
            <h1 id="product-name"><b>{{ product.name }}</b></h1>
            <br><br>
            {# Galery #}
            <div class="custom-container">
                <div class="backImage">

                </div>
                <img id="expandedImg" style="width:100%">
            </div>

            <script>
                function myFunction(imgs) {
                    var expandImg = document.getElementById("expandedImg");
                    expandImg.src = imgs.src;
                    expandImg.parentElement.style.display = "block";
                }
            </script>
            <div class="row lowerImages">
                {% for path in product.imgPath %}
                    {% set fullImagePath = 'assets/main/images/gallery/' %}
                    {% set fullImagePath = fullImagePath ~ path %}

                    {% if loop.index == 1 %}
                        <div class="column">
                            <img src="{{ asset(fullImagePath) }}" alt="Image 1" style="width:100%"
                                 onclick="myFunction(this);" onload="myFunction(this);">
                        </div>
                    {% else %}
                        <div class="column">
                            <img src="{{ asset(fullImagePath) }}" alt="Image 2"
                                 style="width:100%"
                                 onclick="myFunction(this);">
                        </div>
                    {% endif %}

                {% endfor %}
            </div>
            {# Description #}
            <br><br>
            <p id="description">{{ product.description }}</p>
            {# Price #}
            <br><br>
            <p id="price"><b>{{ product.price | number_format(2) }} $</b></p>
        </div>
        {# Footer #}
        {% include 'footer.html.twig' %}
    </div>
{% endblock %}