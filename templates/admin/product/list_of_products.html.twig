{% extends 'base.html.twig' %}

{% block body %}
    {% include 'admin/admin_header.html.twig' %}

    <h1>Products list</h1>

    <table class="table table-striped table-condensed">
        <thead>
        <tr>
            <th>Code</th>
            <th>Name</th>
            <th>Category</th>
            <th>Created at</th>
            <th>Updated at</th>
            <th>Actions</th>
        </tr>
        </thead>
        <tbody>
        {% for product in products %}
            <tr>
                <td>{{ product.code }}</td>
                <td>{{ product.name }}</td>
                <td>{{ product.category }}</td>
                <td>{{ product.createdAt|date('d-m-Y') }}</td>
                <td>{{ product.updatedAt ? product.updatedAt|date('Y-m-d') : '---' }}</td>
                <td>
                    <a href="{{ path('product_show_detailed', { 'code': product.code }) }}"><button class="btn btn-success">Show</button></a>
                    <a href="{{ path('product_edit', { 'code': product.code }) }}"><button class="btn btn-warning">edit</button></a>
                </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

    <a href="{{ path('product_new') }}" class="btn btn-primary">Add new product</a>

{% endblock %}